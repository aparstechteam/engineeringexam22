var w=Object.defineProperty,C=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var x=(l,s,r)=>s in l?w(l,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[s]=r,g=(l,s)=>{for(var r in s||(s={}))M.call(s,r)&&x(l,r,s[r]);if(f)for(var r of f(s))L.call(s,r)&&x(l,r,s[r]);return l},b=(l,s)=>C(l,T(s));import{E as S,O as H,J as N,j as n,k as i,l as a,y as d,m as _,F as v,x as k,L as D,M as A,G as m}from"./index.7a43929e.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";const R={data(){return{timing:null,solutionv:!1,retake:!1,questions:[],solution:[],result:[],unknown:!1,loading:!0,eload:!1,hours:0,minute:0,second:0,end:Date.now()+12e6,show:!1,url:"",solutionpdf:"",starttime:Date.now(),ended:null,inttime:109090,immediate:!0,viewDetails:!1,score:null,status:{Correct:0,Wrong:0,Not_Answered:0}}},beforeRouteEnter(l,s,r){var t;if((t=JSON.parse(localStorage.getItem("engineeringad_22_exam")))==null?void 0:t.roll){r();return}r({path:"/login"})},methods:{endalert(){this.$swal({icon:"warning",title:"Will be available after the time ends"})},getQuestionLink(){this.loading=!0;let l=null;fetch(S+"?type=examlist&id="+this.$route.params.id).then(s=>s.json()).then(s=>{if(new Date(s.exam.start_time).getTime()>Date.now()){this.$router.push("/");return}this.url="https://script.google.com/macros/s/AKfycbwzA-t_cUmiQpA7ArN8OEl_LBeu-JM9VgjrX3x0Camq-lsSt2Gd0xPZ3flPFyBipAQkJw/exec?sheet="+s.exam.exam.substr(39,44),this.ended=new Date(s.exam.end_time).getTime(),this.timelimit=s.exam.timelimit*6e4,this.immediate=!s.exam.special,this.pmarks=Number(s.exam.marks),this.nmarks=Number(s.exam.neg_marks),this.solutionpdf=s.exam.solve_sheet,l=s.exam.time;let r=JSON.parse(localStorage.getItem("engineeringad_22_exam")).roll;fetch(this.url+"&type=check&phone="+r).then(h=>h.json()).then(h=>{this.ended<Date.now()?(this.result=h.result?h.result:["","Time's up"],fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{this.solution=t;let c=l;this.inttime=c*6e4,this.end=c*6e4}),this.unknown=!1,this.loading=!1):h.message!="exists"?(this.unknown=!0,fetch(this.url+"&type=question").then(t=>t.json()).then(t=>{let c=localStorage.getItem(`attempt${this.$route.params.id}`);c?localStorage.setItem(`attempt${this.$route.params.id}`,Number(c)+1):localStorage.setItem(`attempt${this.$route.params.id}`,1),this.questions=t.map((o,u)=>b(g({},o),{selected:"",id:u})),this.questions=this.questions.sort(()=>Math.random()-.5);let e=l;this.inttime=e*6e4,this.end=e*6e4,this.loading=!1,this.showRemaining(this.end+Date.now()),this.autoSubmit()})):this.$router.replace("/end")})})},startRetake(){this.retake=!0,this.showRemaining(Date.now()+this.end)},retakeResult(){let l=this.solution.reduce((s,r)=>(r.correct==r.selected?(s+=r.marks||this.pmarks,this.status.Correct+=1):r.selected?(s-=this.nmarks,this.status.Wrong+=1):this.status.Not_Answered+=1,s),0);this.$swal({icon:"success",title:"Success",text:`You Scored ${l}, Correct ${this.status.Correct} Wrong ${this.status.Wrong} Not Answered ${this.status.Not_Answered}`}).then(()=>{this.retake=!1,this.show=!1,this.questions=this.solution,this.viewDetails=!this.viewDetails,this.inttime=this.solution.length,this.score=l,this.solution=this.solution.map(s=>b(g({},s),{selected:""})),window.scroll(0,0)})},submitAns(){let l=Date.now()-this.starttime;this.eload=!0;let s=this.questions.reduce((o,u)=>(u.correct==u.selected?(o+=u.marks||this.pmarks,this.status.Correct+=1):u.selected?(o-=this.nmarks,this.status.Wrong+=1):this.status.Not_Answered+=1,o),0);clearTimeout(this.timing);let{roll:r,name:h,college:t}=JSON.parse(localStorage.getItem("engineeringad_22_exam")),c=this.questions.map(o=>{let y=[o.a,o.b,o.c,o.d,o.e].indexOf(o.selected);return{id:o.id,s:y}}).filter(o=>o.s>-1),e={roll:r,name:h,attempt:localStorage.getItem(`attempt${this.$route.params.id}`)||1,score:s,college:t,duration:l,submission:JSON.stringify(c)};localStorage.setItem(`exam_${this.$route.params.id}`,JSON.stringify(b(g({},e),{reqUrl:this.url}))),fetch(this.url,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify(e)}).then(()=>{clearTimeout(this.timing),this.$swal({icon:"success",title:"Successfully Submitted",text:"Score will be published soon"}).then(()=>{localStorage.removeItem(`attempt${this.$route.params.id}`),this.$router.push("/"),this.score=s,window.scroll(0,0)})})},gotoLeaderboard(){this.$router.replace(`/ranking/${this.$route.params.id}`)},autoSubmit(){this.timing=setTimeout(()=>{this.show=!1,this.submitAns()},this.inttime)},showRemaining(l){this.show=!0;const s=setInterval(()=>{const r=l-Date.now();if(r<0){clearInterval(s);return}const h=Math.floor(r/this._days),t=Math.floor(r%this._days/this._hours),c=Math.floor(r%this._hours/this._minutes),e=Math.floor(r%this._minutes/this._seconds);this.second=e<10?"0"+e:e,this.minute=c<10?"0"+c:c,this.hours=t<10?"0"+t:t,this.days=h<10?"0"+h:h},1e3)}},created(){this.getQuestionLink(),window.scrollTo(0,0)},computed:b(g({},H(["user"])),{_seconds:()=>1e3,_minutes(){return this._seconds*60},_hours(){return this._minutes*60},_days(){return this._hours*24},currentTime:()=>N.state.currentTime})},p=l=>(D("data-v-498b022f"),l=l(),A(),l),$={key:0,class:"py-5 mx-auto mt-5 bg-white rounded md:w-2/3"},O={class:"py-3 text-center"},J={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},j={key:0},B={key:1,class:"text-center text-gray-900"},Q={key:0,class:"text-center"},E=["textContent"],W={key:1,class:"text-center"},z=p(()=>a("button",{class:"btn loading btn-circle"},null,-1)),F=[z],P={key:2,class:"my-4 font-semibold text-center text-gray-900"},V={key:1,class:"pb-10"},G={class:"py-4 text-center"},U={class:"text-2xl font-bold text-gray-900"},Y=p(()=>a("p",{class:"text-center"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),K={class:"mx-2 text-gray-900 md:w-2/3 md:mx-auto"},X=["innerHTML"],Z={class:"mt-3"},q=["innerHTML","onClick"],ee=["innerHTML","onClick"],te=["innerHTML","onClick"],se=["innerHTML","onClick"],oe=["innerHTML","onClick"],re={class:"mb-10 text-center"},ne={key:2,class:"pb-10"},ie={class:"py-4 text-center"},le={class:"text-2xl font-bold text-gray-900"},ae=p(()=>a("p",{class:"text-center"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),de={key:0,class:"mx-2 md:w-2/3 md:mx-auto"},ce=["innerHTML"],ue={class:"space-x-2"},he={class:"btn btn-sm"},me={class:"btn btn-sm"},_e={class:"mt-3"},ge=["innerHTML","onClick"],be=["innerHTML","onClick"],pe=["innerHTML","onClick"],fe=["innerHTML","onClick"],xe=["innerHTML","onClick"],ve={key:0,class:"mb-10 text-center"},ke=["disabled"],ye={key:3,class:"white--text fixed__timer"},we={class:"text-white bg-blue-500 border border-white shadow"},Ce={key:1,class:"flex items-center justify-center w-full h-screen"},Te=p(()=>a("div",{class:"flex items-center justify-center -mt-24 space-x-1 text-sm text-gray-700"},[a("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})]),a("div",{class:"text-lg"},"Loading ...")],-1)),Me=[Te];function Le(l,s,r,h,t,c){return t.loading?(n(),i("div",Ce,Me)):(n(),i("div",{key:0,onContextmenu:e=>!1},[!t.unknown&&!t.loading&&!t.retake?(n(),i("div",$,[a("div",O,[t.result[1]?(n(),i("h2",J,[t.result[1]!=="Time's up"?(n(),i("span",j,"Score will be available on leaderboard")):d("",!0)])):d("",!0),t.result[1]=="Time's up"?(n(),i("p",B,"But you can still give the exam. Click 'Test yourself again'.")):d("",!0)]),!t.retake&&t.solution.length>0?(n(),i("div",Q,[a("button",{class:"mx-auto btn btn-primary",onClick:s[0]||(s[0]=(...e)=>c.startRetake&&c.startRetake(...e)),textContent:_("Test Yourself Again")},null,8,E)])):(n(),i("div",W,F)),!t.retake&&t.solution.length>0?(n(),i("div",P," Retake exam score will not be recorded ")):d("",!0)])):d("",!0),t.retake?(n(),i("div",V,[a("div",G,[a("h1",U," Retake Exam - "+_(this.$route.params.id),1),Y]),a("div",K,[(n(!0),i(v,null,k(t.solution,(e,o)=>(n(),i("div",{key:o,class:m(["p-5 mx-auto my-3 text-lg text-gray-900 bg-white border border-gray-300 rounded-md shadow-lg kalpurush",{"stop-events":t.solution[o].selected}])},[a("div",{class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,X),a("div",Z,[e.a?(n(),i("div",{key:0,innerHTML:e.a,onClick:u=>t.solution[o].selected=e.a,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,q)):d("",!0),e.b?(n(),i("div",{key:1,innerHTML:e.b,onClick:u=>t.solution[o].selected=e.b,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,ee)):d("",!0),e.c?(n(),i("div",{key:2,innerHTML:e.c,onClick:u=>t.solution[o].selected=e.c,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,te)):d("",!0),e.d?(n(),i("div",{key:3,innerHTML:e.d,onClick:u=>t.solution[o].selected=e.d,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,se)):d("",!0),e.e?(n(),i("div",{key:4,innerHTML:e.e,onClick:u=>t.solution[o].selected=e.e,class:m(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.e==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,oe)):d("",!0)])],2))),128)),a("div",re,[a("button",{onClick:s[1]||(s[1]=(...e)=>c.retakeResult&&c.retakeResult(...e)),class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"}," Submit ")])])])):d("",!0),t.questions.length>0?(n(),i("div",ne,[a("div",ie,[a("h1",le," Exam - "+_(this.$route.params.id),1),ae]),t.viewDetails?d("",!0):(n(),i("div",de,[(n(!0),i(v,null,k(t.questions,(e,o)=>(n(),i("div",{key:o,class:m(["p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush",{"stop-events":t.questions[o].selected}])},[a("div",{class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,ce),a("div",ue,[a("button",he,"Q. No. "+_(o+1),1),a("button",me,"Marks. "+_(e.marks),1)]),a("div",_e,[e.a?(n(),i("div",{key:0,innerHTML:e.a,onClick:u=>t.questions[o].selected=e.a,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,ge)):d("",!0),e.b?(n(),i("div",{key:1,innerHTML:e.b,onClick:u=>t.questions[o].selected=e.b,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,be)):d("",!0),e.c?(n(),i("div",{key:2,innerHTML:e.c,onClick:u=>t.questions[o].selected=e.c,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,pe)):d("",!0),e.d?(n(),i("div",{key:3,innerHTML:e.d,onClick:u=>t.questions[o].selected=e.d,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,fe)):d("",!0),e.e?(n(),i("div",{key:4,innerHTML:e.e,onClick:u=>t.questions[o].selected=e.e,class:m(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.e==e.selected?"border-2 border-green-500 bg-green-300  ":"border"}`)},null,10,xe)):d("",!0)])],2))),128)),t.viewDetails?d("",!0):(n(),i("div",ve,[a("button",{onClick:s[2]||(s[2]=(...e)=>c.submitAns&&c.submitAns(...e)),disabled:t.eload,class:"px-4 py-3 mx-auto font-semibold text-white rounded shadow outline-none hover:shadow-lg bg-gradient-to-t from-green-500 to-green-400"},_(t.eload?"Loading...":"Submit"),9,ke)]))]))])):d("",!0),t.show?(n(),i("div",ye,[a("div",we,_(t.hours)+" : "+_(t.minute)+" : "+_(t.second),1)])):d("",!0)],32))}var De=I(R,[["render",Le],["__scopeId","data-v-498b022f"]]);export{De as default};
