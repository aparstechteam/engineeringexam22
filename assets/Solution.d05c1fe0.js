import{E as v,j as s,k as l,l as i,m as a,y as c,F as _,x as f,M as x}from"./index.06524d2f.js";import{_ as m}from"./plugin-vue_export-helper.21dcd24c.js";const w={data(){return{solution:[],loading:!1,unknown:!1,download:""}},methods:{downloadQuestion(){window.open(this.download,"_blank")},endalert(){this.$swal({icon:"warning",title:"Will be available after the time ends"})},getQuestionLink(){this.loading=!1,fetch(`${v}?id=${this.$route.params.id}`).then(n=>n.json()).then(n=>{this.url="https://script.google.com/macros/s/AKfycbwzA-t_cUmiQpA7ArN8OEl_LBeu-JM9VgjrX3x0Camq-lsSt2Gd0xPZ3flPFyBipAQkJw/exec?sheet="+n.exam.substr(39,44),this.leaderboardurl="https://script.google.com/macros/s/AKfycbzOBSdG0T8p7OIhwx8FSVELW8OwReJ-hS-HBS09FT3abMJR6MEeUyGFjItGBoVJYLDCkQ/exec?sheet="+n.exam.substr(39,44),this.download=n.pdfsolve?`https://drive.google.com/uc?id=${n.pdfsolve.substr(32,33)}&export=download`:!1,this.loading=!0,n.is_upcoming?(this.$router.push("/"),this.unknown=!0):fetch(this.url+"&type=question").then(d=>d.json()).then(d=>{d=d.map(e=>(e.question.includes("https://drive.google.com/file/d/")&&(e.question=e.question.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie","")),e.a.includes("https://drive.google.com/file/d/")&&(e.a=e.a.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie","")),e.b.includes("https://drive.google.com/file/d/")&&(e.b=e.b.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie","")),e.c.includes("https://drive.google.com/file/d/")&&(e.c=e.c.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie","")),e.d.includes("https://drive.google.com/file/")&&(e.d=e.d.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie","")),e.e&&e.e.includes("https://drive.google.com/file/")&&(e.e=e.e.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie","")),e.correct.includes("https://drive.google.com/file")&&(e.correct=e.correct.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie","")),e.explain.includes("https://drive.google.com/file")&&(e.explain=e.explain.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie","")),e)),fetch(this.leaderboardurl).then(e=>e.json()).then(e=>{let h=d.map((t,g)=>(t.total_ans=0,t.t_0=0,t.t_1=0,t.t_2=0,t.t_3=0,t.t_4=0,e.forEach(o=>{JSON.parse(o.submission).forEach(r=>{g==r.id&&(t[`t_${r.s}`]++,t.total_ans++)})}),t.per_a=t.t_0/t.total_ans*100||0,t.per_b=t.t_1/t.total_ans*100||0,t.per_c=t.t_2/t.total_ans*100||0,t.per_d=t.t_3/t.total_ans*100||0,t.per_e=t.t_4/t.total_ans*100||0,t));this.solution=h})})})}},created(){this.getQuestionLink()}},b={key:0},y={key:0,class:"pb-10"},k={class:"py-4 text-center"},L={class:"text-2xl font-bold text-gray-800 poppins"},j={class:"mx-auto md:w-2/3"},M=["href"],B={key:0,class:"mx-2 md:w-2/3 md:mx-auto print:text-black",ref:"content"},S=["src"],E=["innerHTML"],T={class:"mt-3 space-y-2"},$=["src"],A=["innerHTML"],H={class:"text-sm print:hidden"},C={class:"print:hidden"},F={key:2,class:"my-2 poppins"},J=["src"],Q=["innerHTML"],z={key:1,class:"flex items-center justify-center w-full h-screen"},O=i("div",{class:"flex items-center justify-center -mt-24 space-x-1 text-sm text-gray-700"},[i("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})]),i("div",{class:"text-lg"},"Loading ...")],-1),V=[O],G={key:1,class:"flex items-center justify-center w-full h-screen"},N=i("div",{class:"flex items-center justify-center -mt-24 space-x-1 text-sm text-gray-700"},[i("svg",{fill:"none",class:"w-10 h-10 animate-spin",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"clip-rule":"evenodd",d:"M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z",fill:"currentColor","fill-rule":"evenodd"})]),i("div",{class:"text-lg"},"Loading ...")],-1),R=[N];function D(n,d,e,h,t,g){return t.loading?(s(),l("div",b,[t.unknown?c("",!0):(s(),l("div",y,[i("div",k,[i("h1",L," Solution for Exam - "+a(this.$route.params.id),1)]),i("div",j,[t.download?(s(),l("a",{key:0,class:"btn",href:t.download,target:"_blank"},"Download Solution",8,M)):c("",!0)]),t.solution.length>0?(s(),l("div",B,[(s(!0),l(_,null,f(t.solution,(o,p)=>(s(),l("div",{key:p,class:"p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg print:border-none print:shadow-none print:p-1 kalpurush"},[o.question.includes("drive.google.com")?(s(),l("img",{key:0,src:o.question,class:"object-contain w-full py-3",alt:""},null,8,S)):(s(),l("div",{key:1,class:"inline-flex print:text-black",innerHTML:`<span class='mr-2'>${p+1})</span  >`+o.question},null,8,E)),i("div",T,[(s(),l(_,null,f(["a","b","c","d","e"],(r,u)=>i("div",{key:u,class:x(["flex flex-col p-3 rounded shadow",{"border-2 border-green-500 print:border-gray-900":o[r]==o.correct}])},[o[r]&&o[r].includes("drive.google.com")?(s(),l("img",{key:0,src:o[r],class:"object-contain w-full py-3",alt:""},null,8,$)):o[r]?(s(),l("div",{key:1,innerHTML:o[r]},null,8,A)):c("",!0),i("div",H,"Response: "+a(o[`t_ ${u}`])+" ("+a(parseInt(o[`per_${r}`]))+"%) ",1)],2)),64)),i("p",C,"Total Response: "+a(o.total_ans),1)]),o.explain?(s(),l("h2",F,"Explain:")):c("",!0),o.explain&&o.explain.includes("drive.google.com")?(s(),l("img",{key:3,src:o.question,class:"object-contain w-full py-3",alt:""},null,8,J)):o.explain?(s(),l("div",{key:4,class:"p-3 my-3 bg-white border border-green-500 rounded print:text-black",innerHTML:o.explain},null,8,Q)):c("",!0)]))),128))],512)):(s(),l("div",z,V))]))])):(s(),l("div",G,R))}var P=m(w,[["render",D]]);export{P as default};
